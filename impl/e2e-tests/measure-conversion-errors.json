{
  "events": [
    {
      "seconds": 1,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://invalid.example",
        "histogramSize": 1
      },
      "expected": "ReferenceError"
    },
    {
      "seconds": 2,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "epsilon": 0,
        "histogramSize": 1
      },
      "expected": "RangeError"
    },
    {
      "seconds": 3,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "epsilon": -1,
        "histogramSize": 1
      },
      "expected": "RangeError"
    },
    {
      "seconds": 4,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 0
      },
      "expected": "RangeError"
    },
    {
      "seconds": 5,
      "site": "advertiser.example",
      "event": "measureConversion",
      "$comment": "Greater than CONFIG.maxHistogramSize",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 6
      },
      "expected": "RangeError"
    },
    {
      "seconds": 6,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 1,
        "value": 0
      },
      "expected": "RangeError"
    },
    {
      "seconds": 7,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 1,
        "value": 2,
        "maxValue": 1
      },
      "expected": "RangeError"
    },
    {
      "seconds": 8,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 1,
        "credit": []
      },
      "expected": "RangeError"
    },
    {
      "seconds": 9,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 1,
        "$comment": "Zero credit",
        "credit": [0]
      },
      "expected": "RangeError"
    },
    {
      "seconds": 10,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 1,
        "$comment": "Greater than CONFIG.maxCreditSize",
        "credit": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
      },
      "expected": "RangeError"
    },
    {
      "seconds": 11,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 1,
        "credit": [1],
        "$comment": "Greater than CONFIG.maxMatchValues",
        "matchValues": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
      },
      "expected": "RangeError"
    },
    {
      "seconds": 12,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 1,
        "$comment": "lookback cannot be zero",
        "lookbackDays": 0
      },
      "expected": "RangeError"
    },
    {
      "seconds": 13,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 1,
        "impressionSites": ["a"]
      },
      "expected": {
        "error": "DOMException",
        "name": "SyntaxError"
      }
    },
    {
      "seconds": 14,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 1,
        "impressionCallers": ["a"]
      },
      "expected": {
        "error": "DOMException",
        "name": "SyntaxError"
      }
    },
    {
      "seconds": 15,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 1,
        "$comment": "Greater than CONFIG.maxImpressionSitesForConversion",
        "impressionSites": ["a", "b", "c", "d"]
      },
      "expected": "RangeError"
    },
    {
      "seconds": 16,
      "site": "advertiser.example",
      "event": "measureConversion",
      "options": {
        "aggregationService": "https://agg-service.example",
        "histogramSize": 1,
        "$comment": "Greater than CONFIG.maxImpressionCallersForConversion",
        "impressionCallers": ["a", "b", "c", "d"]
      },
      "expected": "RangeError"
    }
  ]
}
